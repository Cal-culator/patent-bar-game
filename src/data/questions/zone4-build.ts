import { RuleBuilderData, TableFillData } from "@/types";

// ============================================================
// Zone 4: The Classified Wing — Build Phase Content
// Rule Builders + Comparison Table Fill-Ins
// MPEP 115 — National Security Review
// ============================================================

// --- RULE BUILDERS ---
// Students assemble statute text from shuffled fragments

export const ZONE4_RULE_BUILDERS: RuleBuilderData[] = [
  {
    id: "z4-rb-1",
    conceptId: "nsr-screening-authority",
    zoneSlug: "the-classified-wing",
    title: "Screening Authority Under 35 USC 181",
    statuteRef: "35 USC 181",
    fragments: [
      "Each application for patent",
      "which is filed",
      "in the Patent and Trademark Office",
      "shall be referred",
      "to the appropriate defense agency",
      "for determination of",
      "whether disclosure would be detrimental",
      "to the national security",
    ],
    correctOrder: [0, 1, 2, 3, 4, 5, 6, 7],
    completeSentence:
      "Each application for patent which is filed in the Patent and Trademark Office shall be referred to the appropriate defense agency for determination of whether disclosure would be detrimental to the national security.",
  },
  {
    id: "z4-rb-2",
    conceptId: "nsr-screening-purposes",
    zoneSlug: "the-classified-wing",
    title: "Three Purposes of National Security Screening",
    statuteRef: "MPEP 115",
    fragments: [
      "Applications are screened",
      "for three purposes:",
      "imposition of a secrecy order,",
      "compliance with export control regulations,",
      "and determination of",
      "government property interest",
      "in the invention",
    ],
    correctOrder: [0, 1, 2, 3, 4, 5, 6],
    completeSentence:
      "Applications are screened for three purposes: imposition of a secrecy order, compliance with export control regulations, and determination of government property interest in the invention.",
  },
  {
    id: "z4-rb-3",
    conceptId: "nsr-classified-filing",
    zoneSlug: "the-classified-wing",
    title: "Classified Application Filing Procedure",
    statuteRef: "MPEP 115",
    fragments: [
      "must be hand-carried",
      "Classified patent applications",
      "to the Licensing and Review division",
      "and shall not be filed",
      "electronically",
      "or through the mail",
    ],
    correctOrder: [1, 0, 2, 3, 4, 5],
    completeSentence:
      "Classified patent applications must be hand-carried to the Licensing and Review division and shall not be filed electronically or through the mail.",
  },
  {
    id: "z4-rb-4",
    conceptId: "nsr-security-clearance",
    zoneSlug: "the-classified-wing",
    title: "Security Clearance Requirement for Practitioners",
    statuteRef: "MPEP 115",
    fragments: [
      "A practitioner",
      "must hold",
      "an appropriate security clearance",
      "to prosecute",
      "a classified patent application",
      "before the USPTO",
    ],
    correctOrder: [0, 1, 2, 3, 4, 5],
    completeSentence:
      "A practitioner must hold an appropriate security clearance to prosecute a classified patent application before the USPTO.",
  },
  {
    id: "z4-rb-5",
    conceptId: "nsr-lr-code-assignment",
    zoneSlug: "the-classified-wing",
    title: "L&R Code Assignment After Screening",
    statuteRef: "MPEP 115",
    fragments: [
      "assigns a code",
      "The Licensing and Review division",
      "to each application",
      "indicating the outcome",
      "of the national security",
      "screening process",
    ],
    correctOrder: [1, 0, 2, 3, 4, 5],
    completeSentence:
      "The Licensing and Review division assigns a code to each application indicating the outcome of the national security screening process.",
  },
  {
    id: "z4-rb-6",
    conceptId: "nsr-defense-screening",
    zoneSlug: "the-classified-wing",
    title: "Defense Agency Screening Responsibility",
    statuteRef: "35 USC 181",
    fragments: [
      "The Department of Defense",
      "and the National Security Agency",
      "screen patent applications",
      "for subject matter",
      "that could be detrimental",
      "to national defense",
      "if disclosed",
    ],
    correctOrder: [0, 1, 2, 3, 4, 5, 6],
    completeSentence:
      "The Department of Defense and the National Security Agency screen patent applications for subject matter that could be detrimental to national defense if disclosed.",
  },
  {
    id: "z4-rb-7",
    conceptId: "nsr-doe-nasa-screening",
    zoneSlug: "the-classified-wing",
    title: "DOE and NASA Screening Categories",
    statuteRef: "42 USC 2182 / 51 USC 20135",
    fragments: [
      "screens for inventions",
      "The Department of Energy",
      "related to atomic energy",
      "while NASA screens",
      "for inventions related to",
      "aeronautics and space",
    ],
    correctOrder: [1, 0, 2, 3, 4, 5],
    completeSentence:
      "The Department of Energy screens for inventions related to atomic energy while NASA screens for inventions related to aeronautics and space.",
  },
];

// --- COMPARISON TABLE FILL-INS ---
// Students fill blank cells in comparison tables

export const ZONE4_TABLE_FILLS: TableFillData[] = [
  {
    id: "z4-table-1",
    conceptId: "nsr-screening-categories",
    zoneSlug: "the-classified-wing",
    title: "Three Screening Categories Comparison",
    columns: ["Feature", "Defense (DoD/NSA)", "DOE", "NASA"],
    rows: [
      "Subject matter focus",
      "Statutory authority",
      "Screening trigger",
      "Possible outcome",
    ],
    cells: [
      ["Subject matter focus", null, null, null],
      ["Statutory authority", null, null, null],
      ["Screening trigger", "All applications screened", null, null],
      ["Possible outcome", null, "Government property interest", null],
    ],
    answers: [
      { row: 0, col: 1, value: "National defense technology" },
      { row: 0, col: 2, value: "Atomic energy inventions" },
      { row: 0, col: 3, value: "Aeronautics and space inventions" },
      { row: 1, col: 1, value: "35 USC 181" },
      { row: 1, col: 2, value: "42 USC 2182" },
      { row: 1, col: 3, value: "51 USC 20135" },
      { row: 2, col: 2, value: "Atomic energy related claims" },
      { row: 2, col: 3, value: "Space-related claims" },
      { row: 3, col: 1, value: "Secrecy order or foreign filing restriction" },
      { row: 3, col: 3, value: "Government rights determination" },
    ],
    answerBank: [
      "National defense technology",
      "Atomic energy inventions",
      "Aeronautics and space inventions",
      "35 USC 181",
      "42 USC 2182",
      "51 USC 20135",
      "Atomic energy related claims",
      "Space-related claims",
      "Secrecy order or foreign filing restriction",
      "Government rights determination",
    ],
  },
  {
    id: "z4-table-2",
    conceptId: "nsr-filing-methods",
    zoneSlug: "the-classified-wing",
    title: "Filing Methods: Classified vs Unclassified Applications",
    columns: ["Feature", "Classified Application", "Unclassified Application"],
    rows: [
      "Filing method",
      "Receiving office",
      "Electronic filing permitted?",
      "Security clearance needed?",
      "Screening timing",
    ],
    cells: [
      ["Filing method", null, null],
      ["Receiving office", null, "Office of Patent Application Processing"],
      ["Electronic filing permitted?", null, null],
      ["Security clearance needed?", null, null],
      ["Screening timing", null, null],
    ],
    answers: [
      { row: 0, col: 1, value: "Hand-carry only" },
      { row: 0, col: 2, value: "Electronic, mail, or hand-carry" },
      { row: 1, col: 1, value: "Licensing & Review (L&R)" },
      { row: 2, col: 1, value: "No" },
      { row: 2, col: 2, value: "Yes" },
      { row: 3, col: 1, value: "Yes — practitioner and staff" },
      { row: 3, col: 2, value: "No" },
      { row: 4, col: 1, value: "Before any processing begins" },
      { row: 4, col: 2, value: "Early in prosecution, before substantive examination" },
    ],
    answerBank: [
      "Hand-carry only",
      "Electronic, mail, or hand-carry",
      "Licensing & Review (L&R)",
      "No",
      "Yes",
      "Yes — practitioner and staff",
      "No",
      "Before any processing begins",
      "Early in prosecution, before substantive examination",
    ],
  },
  {
    id: "z4-table-3",
    conceptId: "nsr-lr-codes",
    zoneSlug: "the-classified-wing",
    title: "L&R Code Meanings After Screening",
    columns: ["L&R Code", "Meaning", "Effect on Application"],
    rows: [
      "No code assigned",
      "Secrecy order code",
      "Foreign filing license granted",
      "Foreign filing license denied",
    ],
    cells: [
      ["No code assigned", null, null],
      ["Secrecy order code", null, null],
      ["Foreign filing license granted", null, null],
      ["Foreign filing license denied", null, null],
    ],
    answers: [
      { row: 0, col: 1, value: "Screening not yet completed" },
      { row: 0, col: 2, value: "Application awaits screening result" },
      { row: 1, col: 1, value: "National security concern identified" },
      { row: 1, col: 2, value: "Application placed under secrecy order; no publication" },
      { row: 2, col: 1, value: "No national security concern" },
      { row: 2, col: 2, value: "Applicant may file abroad" },
      { row: 3, col: 1, value: "Potential security concern under review" },
      { row: 3, col: 2, value: "Applicant may not file abroad until resolved" },
    ],
    answerBank: [
      "Screening not yet completed",
      "Application awaits screening result",
      "National security concern identified",
      "Application placed under secrecy order; no publication",
      "No national security concern",
      "Applicant may file abroad",
      "Potential security concern under review",
      "Applicant may not file abroad until resolved",
    ],
  },
  {
    id: "z4-table-4",
    conceptId: "nsr-clearance-levels",
    zoneSlug: "the-classified-wing",
    title: "Security Clearance Levels and Requirements",
    columns: ["Clearance Level", "Who Needs It", "Handling Requirement", "Typical Application Type"],
    rows: [
      "Confidential",
      "Secret",
      "Top Secret",
    ],
    cells: [
      ["Confidential", null, null, null],
      ["Secret", null, null, null],
      ["Top Secret", null, null, null],
    ],
    answers: [
      { row: 0, col: 1, value: "Practitioner and support staff" },
      { row: 0, col: 2, value: "Secure storage; limited distribution" },
      { row: 0, col: 3, value: "Low-level defense-related inventions" },
      { row: 1, col: 1, value: "Practitioner and L&R personnel" },
      { row: 1, col: 2, value: "Restricted access safe; need-to-know basis" },
      { row: 1, col: 3, value: "Military technology and weapons systems" },
      { row: 2, col: 1, value: "Specially cleared practitioner and L&R" },
      { row: 2, col: 2, value: "Highest security handling; special facilities" },
      { row: 2, col: 3, value: "Nuclear or top-secret defense inventions" },
    ],
    answerBank: [
      "Practitioner and support staff",
      "Secure storage; limited distribution",
      "Low-level defense-related inventions",
      "Practitioner and L&R personnel",
      "Restricted access safe; need-to-know basis",
      "Military technology and weapons systems",
      "Specially cleared practitioner and L&R",
      "Highest security handling; special facilities",
      "Nuclear or top-secret defense inventions",
    ],
  },
];
